{% extends "base.html" %}

{% block content %}
<section class="section">
    <h2 class="section-title">股票選擇</h2>
    {% include "components/stock_selector.html" %}
</section>

<section class="section">
    <h2 class="section-title">進出場規則設計器</h2>
    {% include "components/rule_designer.html" %}
</section>

<section id="chart-section" class="section" style="display:none;">
    <h2 class="section-title">技術分析圖表
        <span id="chart-meta" class="backtest-meta"></span>
    </h2>
    <div id="chart-container" class="chart-container">
        <div id="main-chart" class="chart-main"></div>
    </div>
    <div id="sub-charts-container"></div>
</section>

<section id="indicator-section" class="section" style="display:none;">
    <h2 class="section-title">績效指標
        <span id="backtest-meta" class="backtest-meta"></span>
    </h2>
    <div id="indicator-grid" class="indicator-grid">
        {% for ind in indicators %}
            {% include "components/indicator_card.html" %}
        {% endfor %}
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    window.INDICATOR_TYPES = {{ indicator_types | tojson }};
    window.OPERATORS = {{ operators | tojson }};
</script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
<script src="{{ url_for('static', filename='js/chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/stock_selector.js') }}"></script>
<script src="{{ url_for('static', filename='js/rule_designer.js') }}"></script>
{% endblock %}
